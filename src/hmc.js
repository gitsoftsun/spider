var obj  ={"cityUrls" : ["beijing.huimaiche.com", 
"changsha.huimaiche.com", 
"chengdu.huimaiche.com", 
"chongqing.huimaiche.com", 
"fuzhou.huimaiche.com", 
"guangzhou.huimaiche.com", 
"hefei.huimaiche.com", 
"haerbin.huimaiche.com", 
"hangzhou.huimaiche.com", 
"jinan.huimaiche.com", 
"lanzhou.huimaiche.com", 
"nanjing.huimaiche.com", 
"quanzhou.huimaiche.com", 
"qingdao.huimaiche.com", 
"shenzhen.huimaiche.com", 
"shijiazhuang.huimaiche.com", 
"suzhou.huimaiche.com", 
"shanghai.huimaiche.com", 
"tianjin.huimaiche.com", 
"wuhan.huimaiche.com", 
"xian.huimaiche.com", 
	       "zhengzhou.huimaiche.com"],"brand":[
		   "/mercedesbenz/",
     
		   "/bmw/",
     
		   "/jeep/",
     
		   "/peugeot/",
     
		   "/citroen/",
     
		   "/toyota/",
     
		   "/volkswagen/",
     
		   "/audi/",
     
		   "/skoda/",
     
		   "/hyundai/",
     
		   "/bydauto/",
     
		   "/suzuki/",
     
		   "/ford/",
     
		   "/mazda/",
     
		   "/volvo/",
     
		   "/mitsubishi/",
     
		   "/honda/",
     
		   "/kia/",
     
		   "/southeastautomobile/",
     
		   "/nissan/",
     
		   "/hama/",
     
		   "/geely/",
     
		   "/jac/",
     
		   "/jinbei/",
     
		   "/fiat/",
     
		   "/chery/",
     
		   "/sgmw/",
     
		   "/chrysler/",
     
		   "/faw/",
     
		   "/besturn/",
     
		   "/brillianceauto/",
     
		   "/lifanmotors/",
     
		   "/roewe/",
     
		   "/mini/",
     
		   "/porsche/",
     
		   "/landrover/",
     
		   "/jauger/",
     
		   "/renult/",
     
		   "/infiniti/",
     
		   "/ssangyong/",
     
		   "/cadillac/",
     
		   "/dodge/",
     
		   "/buick/",
     
		   "/cajc/",
     
		   "/fs/",
     
		   "/gq/",
		   "/luxgen/",
		   "/casyc/",
		   "/bjqc/",
		   "/ds/",
		   "/shenbao/",
		   "/hafu-196/"
	       ],"models":["/baoma5xichangzhoujuban/",
			   "/huachenbaomax1/",
			   "/baoma3xi/",
			   "/baomax5/",
			   "/baomax3/",
			   "/baoma7xi/",
			   "/baomax6/",
			   "/baoma1xi/",
			   "/baoma5xi-2034/",
			   "/baoma2xi/",
			   "/baoma5xigt/",
			   "/4xi/",
			   "/baoma3xi-2035/",
			   "/baoma6xi/",
			   "/baomaxinz4/",
			   "/308sanxiang/",
			   "/2008/",
			   "/408sanxiang/",
			   "/biaozhi301haiwai/",
			   "/biaozhi3008/",
			   "/biaozhi508/",
			   "/biaozhi307liangxiang/",
			   "/jipuzhinanzhe/",
			   "/ziyouguang/",
			   "/jipupatriot/",
			   "/jipudaqienuoji/",
			   "/jipumumaren/",
			   "/quanxinaodia4l/",
			   "/xinaodia6l/",
			   "/aodiq3haiwai/",
			   "/aodia3-3999/",
			   "/aodiq7/",
			   "/aodia1/",
			   "/aodia8l/",
			   "/aodia5/",
			   "/aodia7/",
			   "/aodiq5/",
			   "/aodia3/",
			   "/aoditt/",
			   "/mingrui/",
			   "/sikedarapid/",
			   "/supai/",
			   "/sikedayetihaiwai/",
			   "/xindong-4108/",
			   "/ix25/",
			   "/langdong/",
			   "/verna/",
			   "/mistramingtu/",
			   "/xintusheng-2874/",
			   "/suonata/",
			   "/yuedong/",
			   "/xinshengda/",
			   "/ruiyi-4151/",
			   "/tusheng/",
			   "/ruinaliangxiang/",
			   "/benchieji/",
			   "/benchicji-2364/",
			   "/beijingbenchiglkji/",
			   "/benchisji/",
			   "/benchimlji/",
			   "/benchiaji/",
			   "/bji/",
			   "/clsji/",
			   "/benchirji/",
			   "/benchicjiamg/",
			   "/benchigji/",
			   "/benchimjiamg/",
			   "/clsjiamg/",
			   "/slkji/",
			   "/xinejishuangmenjiaopaoche/",
			   "/scross/",
			   "/xinaotuo/",
			   "/yuyan/",
			   "/tianyusx4liangxiang/",
			   "/lingyang/",
			   "/chaojiweitela/",
			   "/yuyanjinkou/",
			   "/kizashi/",
			   "/fukesiliangxiang/",
			   "/mengdiou/",
			   "/fukesisanxiang/",
			   "/kugahaiwai/",
			   "/ecosport/",
			   "/xinjianianhualiangxiang/",
			   "/xinjianianhuasanxiang/",
			   "/futetansuozhe/",
			   "/aihu/",
			   "/sangtana/",
			   "/jieda/",
			   "/tiguan/",
			   "/langyi/",
			   "/xinbaolai/",
			   "/gaoerfu6dai/",
			   "/suteng/",
			   "/pasate/",
			   "/maiteng/",
			   "/boluo/",
			   "/langyiliangxiang/",
			   "/cc-2932/",
			   "/tuan/",
			   "/crosspolo/",
			   "/langjing/",
			   "/pologti/",
			   "/biyadis6/",
			   "/biyadif3/",
			   "/surui/",
			   "/qin/",
			   "/biyadif0/",
			   "/sirui/",
			   "/jinxuanasx/",
			   "/pajieluojinchang/",
			   "/lanseyishen/",
			   "/xinfeidu/",
			   "/dibadaiyage/",
			   "/conceptc/",
			   "/dongfengbentiancrv/",
			   "/concepts/",
			   "/xinaodesai/",
			   "/siyucivic/",
			   "/fengfan/",
			   "/yagecrosstour/",
			   "/ailishen/",
			   "/dongfengyuedaqiyasl/",
			   "/shipao/",
			   "/qiyak3s/",
			   "/axelaangkesaila/",
			   "/cx5/",
			   "/atenza-4065/",
			   "/mazda6jiaoche/",
			   "/mazda3axelaangkesailaliangxiang/",
			   "/ruiyi-2566/",
			   "/mazidacx7/",
			   "/mazida8/",
			   "/mazda3xingcheng/",
			   "/ruiyijiaopao/",
			   "/mazda3xingchengliangxiang/",
			   "/mazida2jinxiang/",
			   "/mazida2/",
			   "/woerwos60l/",
			   "/xc60/",
			   "/woerwov40/",
			   "/v60haiwai/",
			   "/changanwoerwos80l/",
			   "/woerwos60/",
			   "/v40crossv40cross/",
			   "/xcclassic/",
			   "/v3lingyue/",
			   "/dongnanv5/",
			   "/xuanyi/",
			   "/qijun/",
			   "/xintianlai/",
			   "/xiaoke/",
			   "/qida/",
			   "/yangguang/",
			   "/liwei/",
			   "/zhengzhourichannv200/",
			   "/march-3243/",
			   "/kaipusida/",
			   "/meilunnu/",
			   "/zhengzhourichanzn6493/",
			   "/palading/",
			   "/d22pika/",
			   "/s5/",
			   "/haimam5/",
			   "/haimazm2/",
			   "/haimas7/",
			   "/xinyidaipulima/",
			   "/fumeilai/",
			   "/haimam2/",
			   "/yao/",
			   "/jilixindihao/",
			   "/quanqiuyinggx7/",
			   "/shanghaiyinglunsc6/",
			   "/jilixindihaoliangxiang/",
			   "/ec718/",
			   "/quanqiuyinggc7/",
			   "/huapuhaijing/",
			   "/ruifengm5/",
			   "/ruifeng/",
			   "/heyueev/",
			   "/ruihu3-4189/",
			   "/ruihu5/",
			   "/e3/",
			   "/fengyun2liangxiang/",
			   "/qiruim16/",
			   "/qq3/",
			   "/qiruiqq/",
			   "/wulinghongguangs/",
			   "/hongguang/",
			   "/wulingzhiguang/",
			   "/wulingrongguang/",
			   "/kelaisile300c-2089/",
			   "/kelaisiledajielong/",
			   "/xialin5/",
			   "/tianjinyiqir008/",
			   "/weizhiv5/",
			   "/xialin3-1885/",
			   "/suvgainianche-3453/",
			   "/bentengb50/",
			   "/bentengb70/",
			   "/kaluola/",
			   "/xinweichi/",
			   "/levin/",
			   "/yiqifengtianrav4/",
			   "/yarislzhixuan/",
			   "/kaimeirui/",
			   "/huaguan/",
			   "/hanlanda/",
			   "/ruizhi/",
			   "/xinhuangguan/",
			   "/puladuo/",
			   "/puruisi/",
			   "/landekuluze/",
			   "/zhonghuav5/",
			   "/zhonghuah330-3873/",
			   "/huachena4/",
			   "/zhonghuah330/",
			   "/huachenh220/",
			   "/rongwein1/",
			   "/rongwei550/",
			   "/rongweisuv/",
			   "/rongweir95/",
			   "/lifansuv/",
			   "/lifan330/",
			   "/lifan720/",
			   "/lifan620/",
			   "/lifan530/",
			   "/mini-3297/",
			   "/minicooper/",
			   "/countryman/",
			   "/paceman/",
			   "/haishi-1731/",
			   "/jinbeigeruisimpv/",
			   "/xinhaishi/",
			   "/dahaishi-3737/",
			   "/baoshijiecayenne/",
			   "/luhulrxgainianche/",
			   "/shenxingzhe2dai/",
			   "/luhufaxian/",
			   "/luhulansheng/",
			   "/jiebaoxf/",
			   "/xinxj/",
			   "/ftype/",
			   "/q50/",
			   "/qx50/",
			   "/q70/",
			   "/esq/",
			   "/yingfeinidiqx60/",
			   "/yingfeinidiqx70/",
			   "/keleiao/",
			   "/weidu/",
			   "/talisiman/",
			   "/shuanglongludirodius/",
			   "/shuanglongleisiteii/",
			   "/shuanglongxinzhuxi/",
			   "/kelandekorando/",
			   "/leisitew/",
			   "/kaidilakeatsl/",
			   "/xts/",
			   "/kaidilakesrx/",
			   "/kaidilakeats/",
			   "/kaidilakects/",
			   "/kaidilakekaileide/",
			   "/xinkaiyue/",
			   "/xinjunwei/",
			   "/yinglangsanxiang/",
			   "/encore/",
			   "/xinjunyue/",
			   "/xinkaiyuehrv/",
			   "/biekegl8/",
			   "/biekeangkelei/",
			   "/changanc201/",
			   "/yidongliangxiang/",
			   "/benben/",
			   "/changancx20/",
			   "/changancd101/",
			   "/fengshentaiconcept/",
			   "/a30/",
			   "/xpower/",
			   "/chuanqiga3sshijie/",
			   "/chuanqigs5ssubo/",
			   "/ga3/",
			   "/chuanqi-3222/",
			   "/ounuo/",
			   "/ouliwei/",
			   "/changanzhixing2/",
			   "/jinniuxing/",
			   "/changanxingka/",
			   "/shenqi/",
			   "/bc301-3424/",
			   "/exiliesanxiang/",
			   "/beiqib40/",
			   "/wildrubis/",
			   "/xuetielongds5/",
			   "/ds5lsjinkou/",
			   "/d50/",
			   "/d60/",
			   "/feiyatecmedium/",
			   "/zhiyue/",
			   "/freemont/",
			   "/hafuh6/",
			   "/hafuh2/",
			   "/quanxinailishe/",
			   "/c4l/",
			   "/shijiasanxiang/",
			   "/dongfengxuetielongc5/",
			   "/shijialiangxiang/",
			   "/c4aircross/",
			   "/c4bijiasuo/",
			   "/nazhijieu6turbo/",
			   "/luxgen7suv/",
			   "/nazhijies5/",
			   "/luxgen7mpv/",
			   "/luxgen7ceo/",
			   "/kuwei/"]}

var helper = require("../helpers/webhelper.js");
var cheerio = require('cheerio')
var path = require('path')
var fs = require('fs')
var url = require('url')

/*
var tasks = [];
for(var i=0;i<obj.cityUrls.length;i++){
    for(var j=0;j<obj.brand.length;j++){
	tasks.push({"host":obj.cityUrls[i],"path":obj.brand[j]});
    }
}
console.log(tasks.length);


tasks.forEach(function(t){
    var opt = new helper.basic_options(t.host,t.path);
    helper.request_data(opt,null,function(data,args){
	p(data,args)
    },t);
});

var urls = [];
function p(data,args){
    var $ = cheerio.load(data);
    $(".double-11-carList ul li a.pic").each(function(){
	var r = args[0].host+$(this).attr("href");
	console.log(r);
	fs.appendFileSync("../result/1111",r+'\n');
    });
}
*/
var x = 0;
var done=0;
fs.readFileSync("../result/1111").toString().split('\n').forEach(function(line){
    var name = line.replace(/\//g,";");
    if(fs.existsSync("../result/2/"+name+'.html')){
	done++;
	console.log("[DONE]");
	return;
    }
    var t = url.parse("http://"+line);
    var opt = new helper.basic_options(t.host,t.path);
    helper.request_data(opt,null,function(data,args){
	x++;
	fs.writeFileSync("../result/2/"+name+".html",data);
	console.log(x);
    },t);
});